
<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>Symfony 2.4 Expression Language - Tech @ Namshi.com</title>
	<meta name="author" content="Namshi">

	
	<meta name="description" content="Feb 21st, 2014 Content, Expression Language, SEO, Symfony2 Mohamad Hallal Symfony 2.4 Expression Language Expression Language is a new awesome &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="Tech @ Namshi.com" type="application/atom+xml">
	
	<link rel="canonical" href="http://namshi.github.io/blog/2014/02/21/symfony2-dot-4-expression-language/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
  
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-44619227-2']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>


</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">
	
	<script src="/javascripts/md5.js"></script>
	<script type="text/javascript">
		$(function(){
			$('.profilepic').append("<img src='/images/namshi.png' alt='Profile Picture' style='width: 160px;' />");
		});
	</script>
	
</div>

<nav id="main-nav"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/about">About</a></li>
	<li><a href="/team">Team</a></li>
	<li><a href="/archives">Archive</a></li>
	<li><a href="/join-us">Join Us</a></li>
</ul>

</nav>
<nav id="sub-nav">
	<div class="social">
		
		<a class="facebook" href="http://www.facebook.com/NamshiFans" title="Facebook">Facebook</a>
		
		
		
		<a class="twitter" href="http://twitter.com/NamshiDotCom" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/namshi" title="GitHub">GitHub</a>
		
		
		
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner"><article class="post" itemscope itemtype="http://schema.org/BlogPosting">    <div class="meta">
        <div class="date">








  


<time datetime="2014-02-21T12:57:00+04:00" data-updated="true" itemprop="datePublished">Feb 21<span>st</span>, 2014</time></div>
        <div class="tags">


	<a class='category' href='/blog/categories/content/'>Content</a>, <a class='category' href='/blog/categories/expression-language/'>Expression Language</a>, <a class='category' href='/blog/categories/seo/'>SEO</a>, <a class='category' href='/blog/categories/symfony2/'>Symfony2</a>


</div>
        
        <div class="author"><a href="/team/#Mohamad Hallal">Mohamad Hallal</a></div>
    </div>
	<h1 class="title" itemprop="name">Symfony 2.4 Expression Language</h1>
	<div class="entry-content" itemprop="articleBody"><p>Expression Language is a new awesome component that got released in the latest <a href="http://symfony.com/blog/symfony-2-4-0-released">Symfony2.4</a>. This component allows string expressions
to be parsed, compiled and evaluated in PHP. It was basically extracted from the Twig library that supports writing expression logic in templates.</p>

<p>As simple as:&ndash;</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$expLang = new ExpressionLanguage();
</span><span class='line'>$x       = "1+1";
</span><span class='line'>echo $expressionLang-&gt;evaluate($x);</span></code></pre></td></tr></table></div></figure>


<p>The previous code will output &ldquo;2&rdquo;!</p>

<p>It seems simple enough, but the benefits that it introduces are great! Especially when we talk about a company like Namshi, where there are dedicated and specialized content and marketing teams with
hundreds of templates and segments of information that must be delivered and shown on the website. The goal is to provide the most flexibility to other departments in creating their information
with the least overhead in terms of code maintenance to the development team.</p>

<!-- more -->


<p>Fabien Potencier, the creator of Symfony, points out that one of the advantages of introducing this component will be the ability to overcome the limitation of the &ldquo;static configuration&rdquo;
anywhere in the Symfony2 application such as in services and routing. Imagine that instead of having one route to point to a controller, you can give an expression that sends the request of
the same path to different controllers DYNAMICALLY! More explanation about this is introduced <a href="http://symfony.com/blog/new-in-symfony-2-4-the-expressionlanguage-component#routing">here</a>.</p>

<p>So, let&rsquo;s take a look on this component in some more detail.</p>

<p>The component supports a set of pre-defined operators and functions that can be used to construct complex expressions, we list them and their PHP counterparts:&ndash;</p>

<pre><code>1. binary operators and functions
    - '**' =&gt; 'pow'
    - '..' =&gt; 'range'
    - 'in' =&gt; 'in_array'
    - 'not in' =&gt; '!in_array'
    - '&amp;&amp; || | ^ &amp; == === != !== &lt; &gt; &gt;= &lt;= + = * / %' =&gt; same in php
    - 'A matches B' =&gt; preg_match(A,B)
2. Unary operators
    - '!' =&gt; '!'
    - 'not' =&gt; '!'
    - '+' =&gt; '+'
    - '-' =&gt; '-'
3. Object Attributes
    - 'foo.one' =&gt; 'foo-&gt;one'
4. Arrays
    - '[foo1,foo2]' =&gt; array("foo1", "foo2")
5. Functions
    - 'foo(a,b,c)' =&gt; call_user_func_array(array(foo), array(a, b, c)
6. Names:
    - 'foo' =&gt; $foo
</code></pre>

<p>The killer feature is, as we are going to see next, is the ability to register your own functions (similar to Twig) in the component to be utilized in expressions.</p>

<p>The component provides public access to methods that allows you to create your own implementations of expression functions.</p>

<figure class='code'><figcaption><span>&#8221; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="cp">&lt;?php</span>
</span><span class='line'><span class="nv">$expLang</span><span class="o">-&gt;</span><span class="na">register</span><span class="p">(</span><span class="s1">&#39;functionNameToBeUseInTheStringExpression&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(){</span>
</span><span class='line'>    <span class="c1">//compile callback function</span>
</span><span class='line'><span class="p">},</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="c1">//evaluateCallbackFunction</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>As its name implies, this function registers or adds the required support to call a function within the expression string.
This method has two callback functions, one to be called when the expression is compiled, and the other when its evaluated.</p>

<figure class='code'><figcaption><span>&#8221; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="cp">&lt;?php</span>
</span><span class='line'><span class="nv">$expLang</span><span class="o">-&gt;</span><span class="na">compile</span><span class="p">(</span><span class="s1">&#39;stringExpression&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>This method, returns the equivalent PHP expression without evaluating it, so you can evaluate it after doing some required manipulation.</p>

<figure class='code'><figcaption><span>&#8221; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="cp">&lt;?php</span>
</span><span class='line'><span class="k">echo</span><span class="p">(</span><span class="nv">$expLang</span><span class="o">-&gt;</span><span class="na">compile</span><span class="p">(</span><span class="s2">&quot;&#39;test&#39; matches &#39;test2&#39;&quot;</span><span class="p">));</span>
</span><span class='line'><span class="c1">//shows preg_match(&quot;test&quot;, &quot;test2&quot;)</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>&#8221; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="cp">&lt;?php</span>
</span><span class='line'><span class="nv">$expLang</span><span class="o">-&gt;</span><span class="na">evaluate</span><span class="p">(</span><span class="s1">&#39;stringExpression&#39;</span><span class="p">,</span> <span class="k">array</span> <span class="nv">$values</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>This function both compiles the expression to PHP and evaluates it to return the outcome. The expression is evaluated for both the built in functions and operators and the evaluate callback function
of a registered custom function.
It also allows to send a set of default predefined <code>$values</code> to the evaluation process to be passed to the evaluate callback.</p>

<figure class='code'><figcaption><span>&#8221; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="cp">&lt;?php</span>
</span><span class='line'><span class="nv">$expLang</span><span class="o">-&gt;</span><span class="na">parse</span><span class="p">(</span><span class="s1">&#39;stringExpression&#39;</span><span class="p">,</span> <span class="k">array</span> <span class="nv">$names</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>This function parses a string expression from a Token Stream to a Node Tree (the component is built using the Abstract Syntax Tree algorithm) so you can have your expression
as a tree of nodes. Not really sure how it can be benefited from (please share your ideas!).</p>

<p>In a simple <code>var_dump()</code> I can show you what this method can return</p>

<figure class='code'><figcaption><span>&#8221; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="x">var_dump($expLang-&gt;parse(&#39;1 + 2&#39;, array()));</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>object(Symfony\Component\ExpressionLanguage\ParsedExpression)#18 (2) {
</span><span class='line'>  ["nodes":"Symfony\Component\ExpressionLanguage\ParsedExpression":private]=&gt;
</span><span class='line'>  object(Symfony\Component\ExpressionLanguage\Node\BinaryNode)#17 (2) {
</span><span class='line'>    ["nodes"]=&gt;
</span><span class='line'>    array(2) {
</span><span class='line'>      ["left"]=&gt;
</span><span class='line'>      object(Symfony\Component\ExpressionLanguage\Node\ConstantNode)#15 (2) {
</span><span class='line'>        ["nodes"]=&gt;
</span><span class='line'>        array(0) {
</span><span class='line'>        }
</span><span class='line'>        ["attributes"]=&gt;
</span><span class='line'>        array(1) {
</span><span class='line'>          ["value"]=&gt;
</span><span class='line'>          int(1)
</span><span class='line'>        }
</span><span class='line'>      }
</span><span class='line'>      ["right"]=&gt;
</span><span class='line'>      object(Symfony\Component\ExpressionLanguage\Node\ConstantNode)#16 (2) {
</span><span class='line'>        ["nodes"]=&gt;
</span><span class='line'>        array(0) {
</span><span class='line'>        }
</span><span class='line'>        ["attributes"]=&gt;
</span><span class='line'>        array(1) {
</span><span class='line'>          ["value"]=&gt;
</span><span class='line'>          int(2)
</span><span class='line'>        }
</span><span class='line'>      }
</span><span class='line'>    }
</span><span class='line'>    ["attributes"]=&gt;
</span><span class='line'>    array(1) {
</span><span class='line'>      ["operator"]=&gt;
</span><span class='line'>      string(1) "+"
</span><span class='line'>    }
</span><span class='line'>  }
</span><span class='line'>  ["expression":protected]=&gt;
</span><span class='line'>  string(5) "1 + 2"</span></code></pre></td></tr></table></div></figure>


<p>It can perhaps be used to give flexibility for developers to inject and manipulate expressions coming from a non-configurable source.</p>

<p>Here is a comprehensive example of all the previously described methods:</p>

<figure class='code'><figcaption><span>&#8221; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="x">use Symfony\Component\ExpressionLanguage\ExpressionLanguage;</span>
</span><span class='line'>
</span><span class='line'><span class="x">$expLang = new ExpressionLanguage();</span>
</span><span class='line'><span class="x">$expLang-&gt;register(&#39;plus&#39;, function(), function($args, $a, $b) {</span>
</span><span class='line'><span class="x">    return $a + $b;</span>
</span><span class='line'><span class="x">}</span>
</span><span class='line'>
</span><span class='line'><span class="x">$expression = &#39;plus(1,5)&#39;;</span>
</span><span class='line'><span class="x">echo($expLang-&gt;parse($expression)) . PHP_EOL;</span>
</span><span class='line'><span class="x">echo($expLang-&gt;compile($expression)) . PHP_EOL;</span>
</span><span class='line'><span class="x">echo($expLang-&gt;evaluate($expression)) . PHP_EOL;</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>plus(1,5)
</span><span class='line'>1 + 5
</span><span class='line'>6</span></code></pre></td></tr></table></div></figure>


<p>Since here at <a href="http://namshi.com/">Namshi</a> we are using Symfony2 as the main PHP framework for our Backend and API development efforts. We are up-to-date with latest releases
from Symfony. The Expression Language Component allowed us to introduce more flexibility in the way other departments such as Content and Marketing tailor views and serve data
based on some client related information.</p>

<p>We were able to integrate Twig, YAML and the Expression Language Component using Redis as the mega storage unit.</p>

<p>As an example, we have a set of Twig templates for the SEO guys to store the pages&#8217; meta information stored in a redis hash and indexed by the path info of the request,
and they are json encoded:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>"/shoes/" =&gt;
</span><span class='line'>[["locale(en_AE)", {"header":"Buy shoes from Namshi in UAE right on your ", "pageTitle":"Welcome to Namshi UAE"}],
</span><span class='line'>["locale(en_SA)", {"header": "Buy shoes from Namshi in Saudi right on your , "pageTitle":"Welcome to Namshi Saudi"}]]</span></code></pre></td></tr></table></div></figure>


<p>And in a <code>device</code> redis hash, we have the corresponding possible values for <code>device</code> indexed by the device type</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>"mobile" =&gt;
</span><span class='line'>["device":"Mobile Phone"]</span></code></pre></td></tr></table></div></figure>


<p>Now, we fetch the appropriate template based on the path info and select the first template that its condition evaluates to <code>true</code>, fetch the context (device) based on
client information, render the twig template with the appropriate device value and parse it as YAML!</p>

<p>Was that fast? sorry, here is a sample code:</p>

<figure class='code'><figcaption><span>&#8221; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="cp">&lt;?php</span>
</span><span class='line'><span class="nv">$redis</span>      <span class="o">=</span> <span class="c1">//the redis instance</span>
</span><span class='line'><span class="nv">$path</span>       <span class="o">=</span> <span class="c1">//get the required path from the request</span>
</span><span class='line'><span class="nv">$device</span>     <span class="o">=</span> <span class="c1">//get the device type from a service or a header</span>
</span><span class='line'><span class="nv">$expLang</span>    <span class="o">=</span> <span class="c1">//the expression language instance</span>
</span><span class='line'><span class="nv">$yamlParser</span> <span class="o">=</span> <span class="c1">//the YAML parser instance</span>
</span><span class='line'><span class="nv">$orgLocale</span>  <span class="o">=</span> <span class="c1">//get the locale value from a service or a header</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$expLang</span><span class="o">-&gt;</span><span class="na">register</span><span class="p">(</span><span class="s1">&#39;locale&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(),</span> <span class="k">function</span><span class="p">(</span><span class="nv">$values</span><span class="p">,</span> <span class="nv">$locale</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nv">$locale</span> <span class="o">==</span> <span class="nv">$orgLocale</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$possibleTemplates</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$redis</span><span class="o">-&gt;</span><span class="na">hget</span><span class="p">(</span><span class="s2">&quot;seo_templates&quot;</span><span class="p">,</span> <span class="nv">$path</span><span class="p">),</span> <span class="k">true</span><span class="p">);</span>
</span><span class='line'><span class="nv">$contextValues</span>     <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$redis</span><span class="o">-&gt;</span><span class="na">hget</span><span class="p">(</span><span class="s2">&quot;seo_device&quot;</span><span class="p">,</span> <span class="nv">$device</span><span class="p">),</span> <span class="k">true</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="k">foreach</span> <span class="p">(</span><span class="nv">$possibleTemplates</span> <span class="k">as</span> <span class="nv">$possibleTemplate</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">list</span><span class="p">(</span><span class="nv">$condition</span><span class="p">,</span> <span class="nv">$template</span><span class="p">)</span> <span class="o">=</span> <span class="nv">$possibleTemplate</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nv">$expLang</span><span class="o">-&gt;</span><span class="na">evaluate</span><span class="p">(</span><span class="nv">$condition</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>        <span class="nv">$twig</span>             <span class="o">=</span> <span class="k">new</span> <span class="nx">\Twig_environment</span><span class="p">(</span><span class="k">new</span> <span class="nx">Twig_Loader_String</span><span class="p">(</span><span class="nv">$template</span><span class="p">));</span>
</span><span class='line'>        <span class="nv">$renderedTemplate</span> <span class="o">=</span> <span class="nv">$twig</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="nb">json_encode</span><span class="p">(</span><span class="nv">$template</span><span class="p">),</span> <span class="nv">$contextValues</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">return</span> <span class="nv">$yamlParser</span><span class="o">-&gt;</span><span class="na">parse</span><span class="p">(</span><span class="nv">$renderedTemplate</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//Note: this code requires lots of error checking and try, catch blocks to detect and report errors and exceptions since</span>
</span><span class='line'><span class="c1">// content and SEO information, for example, are considered fragile and sensitive</span>
</span></code></pre></td></tr></table></div></figure>


<p>Nice, easy and simple. This approach for a CMS like system, provides the following benefits:</p>

<ul>
<li>High flexibility in creating information (content, SEO, etc..)</li>
<li>Tailoring data according to client information (mobile, desktop, large/small screens, app, tablet, etc..)</li>
<li>Can be based on numerous variables (path information, headers, domain, device type, etc..)</li>
<li>Content specialization and less dependency on the tech team.</li>
<li>Less code maintenance overhead since the expected future requirements can only be limited to registering Expression Language functions.</li>
</ul>

</div></article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	<a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
	
	
	<a class="addthis_button_tweet"></a>
	
	
	<a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
	
	<a class="addthis_counter addthis_pill_style"></a>
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>



<section id="comment">
    <h1 class="title">Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>
</div>
			</div>
			<footer id="footer" class="inner">Copyright &copy; 2014

    Namshi

<br>
Powered by Octopress.

Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a></footer>
			<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'namshitechblog';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://namshi.github.io/blog/2014/02/21/symfony2-dot-4-expression-language/';
        var disqus_url = 'http://namshi.github.io/blog/2014/02/21/symfony2-dot-4-expression-language/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-44619227-2']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



		</div>
	</div>
</body>
</html>
